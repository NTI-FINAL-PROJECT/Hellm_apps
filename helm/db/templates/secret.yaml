apiVersion: v1
kind: Secret
metadata:
  name: db-secret
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "db.labels" . | nindent 4 }}
type: Opaque
# IMPORTANT: All values are base64 encoded using Helm's b64enc function
data:
  # PostgreSQL username - Value from .Values.postgres.user
  POSTGRES_USER: {{ .Values.postgres.user | b64enc | quote }}
  # PostgreSQL password - Value from .Values.postgres.password
  POSTGRES_PASSWORD: {{ .Values.postgres.password | b64enc | quote }}
