apiVersion: v1
kind: Secret
metadata:
  name: app-secret
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "backend.labels" . | nindent 4 }}
type: Opaque
# IMPORTANT: All values are base64 encoded using Helm's b64enc function
# Values are taken from values.yaml and encoded automatically during deployment
data:
  # PostgreSQL username - Value from .Values.secrets.postgresUser
  POSTGRES_USER: {{ .Values.secrets.postgresUser | b64enc | quote }}
  # PostgreSQL password - Value from .Values.secrets.postgresPassword
  POSTGRES_PASSWORD: {{ .Values.secrets.postgresPassword | b64enc | quote }}
